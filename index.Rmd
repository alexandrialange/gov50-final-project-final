---
title: "Gov 50 Final Project"
author: "Alexandria Lange "
description: "Final Project "

output:
  distill::distill_article:
    self_contained: false
---

## Milestone 1: Project thoughts

For my final project, I will be studying the effects of certain habits that pregnant mothers participate in that may affect their overall health and how that impacts the child. I found a great data set that includes birth statistics from 1000 randomly selected births in 2014. These statistics are mother's age, father's age, mother's race, number of weeks pregnant, amount of weight gained during pregnancy, weight of baby, gender of baby, sex of baby, the maturity of the mother (younger or older), if the baby was a preemie or was carried to full term, if the birth weight was low, smoking habits, and if the mother was white or not. Although there are a lot of interesting questions that can be explored in this data set, I wish to study some of the harmful effects of smoking on a baby's health and on the pregnancy in general. I would also like to compare the effects of habits and the effects of the mother's age. I'm interested in comparing these two as they are both known to be significant factors during pregnancy. 

## Milestone 2: Proposal

After analyzing the data set and mulling over possible research questions, I have decided to stick with the effect (if any) of smoking habits on the likelihood of a pregnant female being able to carry to term as well as if the baby was born with a low birth weight (babies born weighing less than 5lbs, 8 ounces) or not. I believe there will be a higher rate of babies born prematurely as well as a higher rate of babies born with a low birth rate in the group of mothers who had a habit of smoking compared ot the group of mothers who did not. 

 While smoking is harmful to an individual's health in any circumstance, its harmful effects go beyond the individual during pregnancy and have the ability to impact a developing fetus's health. The CDC (Centers for Disease Control and Prevention) has published that smoking during pregnancy can cause tissue damage in the lung(s) and the brain of the unborn baby, as well as increase the odds of the child having a cleft lip. There is also mention that smoking during pregnancy also leads to preterm labor and low birth weight, so I will be testing both of these two statements to see if they hold true in these randomly selected 1000 birth cases that occurred in the US in 2014. In order to measure this, I will be creating a binary variable out of the preemie variable (premie), and of the lowbirthweight variable (lowbirthweight),  assigning "1" to if they were a premie and if they were born with a low birth weight. From there, I will be able to use the mean of the preemies present within each group (smokers v. non-smokers); the mean of those born with a low birth weight present within each group (smokers v. non-smokers). If the mean of preemies and those born with a low birth weight are higher within the group of smokers than the group of women that did not have the habit of smoking during pregnancy, then this will help support my hypothesis. I could also run a regression to see if there is an association between smoking and preemies as well as smoking and being born with a low birth weight. It is important to keep in mind, however, that while my data may suggest a conclusion (whatever that may be), this conclusion is not an exact science as there are many other factors that could affect the chances of preterm labor and whether or not a baby is born with a low birth weight.


As for comparing the effects of habits and those of the mother's age, I will do so by doing multiple variable regressions. The independent variables in these regressions will be habits (habit) and mother's age (fage) and the dependent variable in the first one will be the binary variable I created for if the baby was a premie (ifpremie) and in the second will be the binary variable I created for if the baby had a low birth weight (iflow). 

I also chose to include a box plot to show the distribution in baby's weights (in pounds) split up by habits of the mother to show a more general visualization of the effects of smoking on a baby's weight. 

## Milestone 3:Data Visualizations

```{r}
library(tidyverse)
library(broom)
library(ggplot2)
library(readr)
births14 <- read_csv("~/Downloads/births14 (1).csv")

```

```{r}
births14<-births14|>
  mutate(ifpremie=ifelse(premie == "premie", 1, 0))

habit_premie_mean<-births14|>
  group_by(habit)|>
  remove_missing()|>
summarise(premie_mean= mean(ifpremie))

knitr::kable(digits = 2, habit_premie_mean)
```

```{r}
habit_premie<-births14|>
  group_by(habit)|>
  remove_missing()|>
summarise(premie_mean= mean(ifpremie))|>
  ggplot(mapping = aes(x= habit,
                        y=premie_mean))+
  geom_col()+
  labs(x= "Habits of the Mother", 
       y= "Average Premies in Group")

habit_premie
  
```

Interpretation of Table & Graph: Roughly 24% of babies whose mother is a smoker were born prematurely, compared to only 11% of babies whose mothers are not smokers were born prematurely. The proportion of babies that were born prematurely was more than doubled when the mother smoked, compared to when the mother didn't. This (preliminarily) supports part of the purpose of my project, which was to determine within this random data set whether what the CBC said can be seen in practice (that smoking during pregnancy leads to preterm labor). 

## Correlation of Habits to Premie Baby

```{r}
lm(ifpremie~habit, data= births14)
```

Interpretation of Linear Regression: 0.1107= the average proportion of babies that are born premies when there are no mothers that have a habit of smoking in the data set 

0.1086= the average change (increase) in the proportion of babies that are born premies with the addition of one mother with smoking habits in the data set 

This shows that there is an increase in the proportion of babies born that are premies with the presence of mothers that have a habit of smoking.


## Correlation of Habits & Mother's Age to Premie Baby

```{r}
lm(ifpremie~habit+ fage, data= births14)
```

Interpretation of Linear Regression:

0.103766=the average change (increase) in the proportion of babies that are born premies when the presence of mothers who have a habit of smoking increased by one unit. This implies that the chances of a baby being born prematurely increases by about 10% with the presence of a smoking mother in the data set.  


0.003042= the average change (increase) in the proportion of babies that are born premies when the age of the mother is increased by one unit. This implies that the chances of a baby being born prematurely increases by about 0.3% when a mother's age increases by one year. 


A greater average increase in the proportion of babies that were born prematurely in this data set with a one unit increase of smokers than with a one unit increase in the mother's age indicates that smoking has a greater effect on the odds of a baby being born prematurely than a mother's age does. 


-----------------------------------------------------------------------------------------------------------




## Effect of Habit on Baby Weight

```{r}
births14<-births14|>
  mutate(ifsmoker=ifelse(habit == "smoker", 1, 0))

habit_birthweight<-births14|>
  group_by(weight, habit)|>
  remove_missing()|>
  summarise(baby_weight= mean(weight))|>
  ggplot(mapping = aes(x= habit,
                        y=baby_weight))+
 geom_boxplot()+
  labs(title = "Baby Weight (in pounds) Separated by Habits (Nonsmoker v. Smoker)",
 x= "Habit", 
y= "Baby Weight (in pounds)")
habit_birthweight
```

This graph shows that the median baby weight (in pounds) is less when the mother had a habit of smoking than when the mother did not. It also shows that the variance in baby weight had a smaller range when the mother was a smoker. The highest baby weights recorded in the group whose mothers smoked was lighter than the highest baby weights of those with mothers that did not smoke. The distribution of babies' weights was also different, with the middle 50% of babies' weights for the group whose mothers smoked ranger between about 5.8 to 7.1 lbs, while the middle 50% of babies' weights for the group whose mothers did not smoke ranged from 6.25 to about 7.9 lbs. The range of the middle 50% of the weights for babies whose mothers did not smoke was slightly larger than that of the group whose mothers did smoke. The smallest baby weight within the data set belonged to the group in which the mothers smoked, as seen by the smallest outlier on this graph. This graph indicates the increased likelihood of a child born to a mother who smokes having a lower birth weight than a child being born to a mother that does not smoke.

## Effect of Habit on Whether or Not Baby has low Birth Weight

```{r}
births14<-births14|>
  mutate(iflow=ifelse(lowbirthweight == "low", 1, 0))

habitlowbirthw_mean<-births14|>
  group_by(habit)|>
  remove_missing()|>
summarise(low_mean= mean(iflow))

knitr::kable(digits = 2, habitlowbirthw_mean)
```

```{r}
habit_lowbirthweight<-births14|>
  group_by(habit)|>
  remove_missing()|>
summarise(low_mean= mean(iflow))|>
  ggplot(mapping = aes(x= habit,
                        y=low_mean))+
  geom_col()+
  labs(x= "Habits of the Mother", 
       y= "Average Babies Born at Low Birth Weight")
habit_lowbirthweight

```

Interpretation of Chart and Graph: About 6% of the babies that were born to mothers who were nonsmokers were classified as having a "low birth weight", whereas about 23% of the babies that were born to mothers that were smokers were classified as having a "low birth rate". The proportion of babies that were classifies as having a "low birth weight" almost quadrupled when the mother smoked, in comparison to when the mother didn't. This supports the claim of the CDC that smoking during pregnancy increases the chances that your child will be born with a low birth weight.

## Correlation of Habits to Low Birth Weight Baby

```{r}
lm(iflow~habit, data= births14)
```

Interpretation of Linear Regression:

0.06228= the proportion of babies that are classified as being born with a "low birth weight" when there are no mothers in the data set that have a habit of smoking 

0.14824= the average change (increase) in the proportion of babies that are classified as being born with a "low birth weight" with a one unit increase in the amount of mothers that smoked being included in the data set 

There is an increase in the proportion of babies that are classified as being born with a "low birth weight" when the habit of smoking was present in the mothers.


## Correlation of Habits & Mother's Age to Low Birth Weight Baby

```{r}
lm(iflow~habit+fage, data= births14)
```

Interpretation of Linear Regression:

 0.124498=the average change (increase) in the proportion of babies that are born with a classified "low birth weight" when the presence of mothers who have a habit of smoking increased by one unit. This implies that the chances of a baby being born prematurely increases by about 12% with the presence of a smoking mother in the data set.

0.001422= the average change (increase) in the proportion of babies that are born with a classified "low birth weight" when the age of the mother is increased by one unit. This implies that the chances of a baby being born prematurely increases by about 0.1% when a mother's age increases by one year. 


Both the average change in the proportion of babies that are born with a classified "low baby weight" when age of the mother and the presence of a smoker are increased by by one unit are positive. However, the change in the proportion is much greater when when the presence of a mother who smoked in the data set increased by one, signifying that smoking has a greater effect on whether or not a baby is born with a low birth weight than the age of the mother.

